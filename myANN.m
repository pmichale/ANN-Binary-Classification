function [y1] = myANN(x1)
%MYANN neural network simulation function.
%
% Auto-generated by MATLAB, 20-Apr-2021 03:46:23.
% 
% [y1] = myANN(x1) takes these arguments:
%   x = 2xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.99909582241535;2.00009809672099];
x1_step1.gain = [0.33338591860201;0.666840168127359];
x1_step1.ymin = -1;

% Layer 1
b1 = [-14.620291747009074967;14.185326338301431193;13.660451841963556774;-13.182469316582423602;13.148815322718032661;12.646535179788223502;-12.616972446867720237;-11.986719288934644112;-11.953185947851453719;-11.511780717609729763;11.219968562290635106;-9.6710903513896866457;10.693609453862059411;-10.230939710638169871;10.191706079465406631;-9.72555464161764327;10.075656814836078112;9.1336145170662330628;9.0094694688799474847;7.6311334553621481547;-8.3745781022263336979;-7.8074959379440862506;7.8236679317185968685;-7.9079856294477686163;6.6374366153811052982;6.9189334083046656332;6.0852130513715367854;-7.1526998873166780513;-6.1447838207468121752;-5.3859299133524869418;5.8948585976739149572;4.2510407718838072455;5.0195499785733241893;5.5488440917438470734;3.9645305886413635399;4.1583500713074261768;4.4789221485001782241;2.7882430427022826258;-3.3732399399751336055;2.8969641899213485203;-2.9968242894936714116;-2.074609491021974339;-1.8771463126854928127;-1.2766910977417509354;2.7554508573929328286;-1.1575567297491142771;0.88489653157489756019;-1.5171721676576719329;0.46120035683684218464;-0.18096071272024655263;0.837773373979930569;-0.63465758173912478757;-1.1995540381235743066;1.4371520037253182611;1.9944943618898616222;-2.2447686712063603665;1.1361007610333493378;-2.4635562965343571484;-2.4011411772528865605;2.4821632985727881682;3.5720574503319775239;-3.754343384812834028;3.6358803501870791131;-3.2423153000616284913;4.1655479836494802015;4.4105060389201202753;-4.9265248326017889724;-4.5148466292582654091;4.5700899539806609795;-5.5959685182183971364;-4.9482968412750318876;-6.0838429343010940187;-7.5885003772030357183;6.764464206406677782;7.3522871191616374631;6.7255572696753276318;-7.0855098884911953405;-7.4235009343134059634;7.8788127438481811993;-8.794005071064763257;8.6342791377145005072;9.3367208300246904429;-9.7202576403699172403;-9.6206033338692460433;9.8271044998707424156;10.484512986735547102;-10.50129143681102839;10.844386532853288685;10.666853194810938632;-11.206242454510370266;11.457864165524757283;12.361626870386027477;12.388788314535160495;12.139849004272587507;-12.689621863727124307;13.119652694786731573;-14.151430755363632485;13.677359853460707484;-13.90006056049719696;-15.426643749150406038];
IW1_1 = [3.2117287971346915043 12.976763642820959177;-9.6991310095314382522 9.4220350361791371796;-6.2705387709264579499 12.270530874388983378;9.2768681537236457046 -10.443915497711280693;-11.826217347579767392 6.9774683220808908501;-9.8180076963172400184 -9.9019630450161280066;13.466955897702359124 -2.6463596603763019921;11.255119803916427301 -8.3753621016881307781;12.653692231435330839 -5.5378047755177908229;8.5448563784712092684 -11.031389712283052873;-6.6993298885337022597 12.252630298284453048;0.42991328001613737797 -15.002930548280753342;-11.3235423736249885 -8.1155193824996185725;14.068020099101428144 -0.14652271176467215885;-10.106670677628878607 -9.5263594115639449456;11.059508377336250362 -8.6194193221801480576;-13.456060359548740024 -1.8425388984831190253;-10.583299485215938773 9.2209870392837025577;-10.638585655399550589 -8.9998941197030184469;-7.5018037610864549691 12.58075253278290262;9.8623689600401984734 9.9100201824564493336;10.9517214829160352 -8.9374675492504653818;-4.2586447357356265186 -13.30884729448103343;6.4572393413948807606 -12.200789969918107047;-2.0701725759353171163 13.98815388939781279;-10.012014492344173178 -9.7928166454720688705;-12.53865147341336872 6.7470715414896949014;6.1723521389710320761 -12.075005766977763955;11.748021822604586717 7.5642926544413144896;11.407738256520971731 -8.4081569196943988231;-11.876025357639768743 -7.1352987997432437695;-13.590371783542378736 4.5278088014034345576;-6.381032569872428617 -12.432856859039857156;-10.006133227586632373 9.3986411876958335654;-13.187303397900626223 -5.0387980473663613878;-2.0619544172398089898 -13.829354087580130184;-11.991673300717412332 6.8577391652638981512;-13.273623698527719839 -4.8913071793136184695;9.6370892563165160283 -10.073564257008513323;-10.037107421923607831 -9.7785388905442314211;3.4999847874879188581 -13.476285487551718845;6.1370958821786878445 12.624785034307828724;0.38593643882915917853 -13.968457519031339586;12.012513300926761062 7.2368908530226958575;-13.833795796222812413 1.7209870862815954684;-10.070877489119283155 -9.9841719581534889016;-10.698175555140270632 9.0503202258633574928;13.533513643627044232 -3.2349117553530244429;-8.2736972349525146342 11.256206131090841893;-5.2319106307004492606 -13.301845272941237752;-13.889099788868870533 0.78180630086229241371;-10.526669385370817977 9.2151982484412950924;-0.6107032372013588839 14.170391101754116647;12.421044052001528613 -6.3659015689034541552;4.8478540814923389846 -12.981682642574321918;-7.8232580209645670166 11.485435392351810435;13.680810072842689351 3.3357681267980066053;-11.884217867629713439 7.2758073206354145768;-1.3643491164322123499 -13.875405916526830197;13.775105636286991029 2.6465060068070029864;9.9972110979861970037 9.5626104702168355232;-7.9129413736112752531 -11.287513418899971285;13.056501738764076492 4.9850499284715787951;-5.6036049906186864433 -12.986996966779962293;12.508584124355344613 -6.1880763802091092174;13.298804132332081807 4.5180415643668503378;-13.91578586498566672 0.47296345123270311372;-12.82647768092337337 -5.921527333356949363;6.9081808261855872644 12.466493518025032472;-2.6993043143056967281 -13.702757310990898887;-6.3091107323971424847 12.836636472110672713;-2.5346775693730227985 -13.768654862457328392;-0.87622289126065422415 -13.358571846939685912;13.301876544040791117 4.179250228193817307;13.372413961910474711 -3.2377074821128575266;9.7667071156885274519 -10.347710594894794056;-10.635264010607805574 9.4160360266012688157;-13.141064780695451475 4.9984823857758176047;12.060671476222305287 -7.4236083908625376537;-6.2304776119239466681 12.2374140764118291;9.1419978072827152715 -10.599167972240847391;13.091745273330673172 4.0511321289493773534;-12.800370087270938058 -4.7378830281062622731;-9.3671128786190678284 -10.217123068773636518;9.2315156594130982626 -10.462897304487897898;0.78776291683651045172 13.745033787910690748;-13.79956762102560397 1.7148071831203124393;9.4001322746231394945 -10.131381281966868713;12.223430793490674517 -7.16805157353414657;-3.1691437971902738369 13.605774071353049948;10.466789348238464186 -9.2929472227829776898;9.0076550123830703143 10.271916052205250836;10.174724596327338944 9.1511454446838573773;13.927804315418770287 3.201752644686029825;-7.6453090697582952728 11.617699411676770893;13.255091124992746998 3.6730898017742656947;-12.931812641752864934 1.9738559135920925591;13.529830061395772489 -2.5880644498843183854;-2.0646305438157739331 13.66942314623000243;-11.484771460422575018 -5.0900042714493753948];

% Layer 2
b2 = -6.8066693940504254812;
LW2_1 = [5.2718660026063606239 -2.9872156922138195512 -2.9617396639990558604 2.0959761958209885968 -2.610810828895087532 -3.7131987049341397267 3.4719097510320597877 1.5879451013924077429 2.3065845560789406399 1.8395060454309988263 -1.4205369901640962915 -4.5610067297718064339 -3.1064346974007435165 1.6279775691198659082 -3.1332104445907300594 1.2754314419486993959 -1.7439633615701017888 -1.0503960313496782941 -2.8661153514938271236 2.4685582688145406571 2.3934308392054077785 0.29228466907409911268 -1.1785582132179430737 -4.4009623018415826579 4.710826583033597359 -1.9426426676067882759 0.69250257974792128746 -3.2410526439488589467 1.2968119450374602231 -2.3408373863929843317 -1.1283060791996908367 2.5987687776321726218 -0.48083067531564271935 2.9281255807466677332 1.6222130314174365573 1.1131518373277236034 3.5885106643438109408 2.3686929419494600069 -1.0576563225680870595 0.057551626516119280819 -0.32073263911299221274 -1.3835871324858362019 1.9489270424162601358 -3.0530143335592883069 4.6458384182999274969 3.7578153310715713964 -0.054757818068106270393 -2.56982879058580993 0.28651764256088302352 6.440791816744860121 2.0539532257608477117 0.69074333232441931241 -6.5622484254801882742 -1.1895652871074890999 4.0007696231331175696 -0.43607946166332972604 -2.4981738858749840126 0.50021522684153374438 1.7179165009350765292 -0.68738108618079218903 -4.5961850372485120175 4.1108078867620010399 0.31214393331981082902 2.2917338368866522202 1.36526072734114301 1.9390046053925666936 -1.1422109007616843002 -1.4813967741479894258 -1.8331855876798071048 0.22382969466406182901 -2.2865302420362989544 0.09336452053063175327 -1.6692515974838340043 1.0116850861604800293 3.7539489487426171976 1.5425426508552273486 -2.1736339415928309649 -3.7951207640722044445 4.0944785597602679772 1.5989724421550135514 -1.2324720962169795069 1.7573376001159211057 -1.8055918431103599175 -1.4520791062473550337 -2.2750783954277227217 8.2418194827464485996 -5.0096548791844854875 -3.0833461219713917956 -1.9101452209596363474 2.9963529650694922246 -3.1548829593885696632 5.0148129316122389554 4.1346167092063419446 4.3693700102344266156 4.290283193692387087 1.6624146279117963942 3.9254982519097931792 -4.054802558967473658 5.1054118998415125574 1.2243298388013943434];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
  a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
