function [y1] = myANN_100(x1)
%MYANN_TEST neural network simulation function.
%
% Auto-generated by MATLAB, 19-Apr-2021 23:46:25.
% 
% [y1] = myANN_test(x1) takes these arguments:
%   x = 2xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-3.99973581857167;2.00000160032868];
x1_step1.gain = [0.333351310463407;0.666684778306519];
x1_step1.ymin = -1;

% Layer 1
b1 = [14.367792365535645871;14.369429070281864114;-13.761930354987534031;14.739122495433587545;13.004586515835182325;-12.795654875889386659;13.123576868094907866;12.104550707401187992;-11.772315214617110612;12.106035179996412765;-11.285305868763728654;10.283283564687616618;-11.043800546174690425;10.531210636986431339;10.128647485023899222;-9.8904500918150706212;-9.4847812487985763141;9.2066989506803995624;-8.9257736072698783403;-8.1380656640150874637;8.4062370464802089742;-7.9575104114732617688;7.0507650884351624754;7.2838533385779893337;-7.2323897653822895037;-6.9334778251967970064;-6.6752448645001578598;6.3433777694511537248;-5.7100165491619581104;5.7068221680184283429;6.5828141049613035918;-6.1351640401645060052;5.4282931793874924509;-4.4727509427879779125;4.4781727943535720726;-3.7340762527802291437;3.5903974164808802882;-3.7142749497135403303;-3.2448395800872926742;-3.0283232924931473562;-2.8060179345961753228;-2.1831942739625205263;3.3617314933659341314;1.7322547568369024429;0.41230321309180534284;1.5852308660414244912;-2.0982823002141328672;-0.12709729720278820086;-0.64589041902858845834;0.73186683443035271956;-0.70277160564551355293;0.23984951385552377712;1.959929724168345766;-0.60740954565011562316;-0.14059566561103281623;0.41530391108434544511;-0.069172963179297553005;-0.52099444226631308474;2.6084358416793449464;-3.1307799197631314136;3.1488020864459631554;1.4236298084674747777;3.1431370700566105825;3.8577690940465920733;-4.3230292160369421239;-5.5845607219912967167;-2.5816852133474168518;4.6355753787928701826;4.9946446777519302174;-3.5129841751257200322;6.5182124349920416151;-5.5547218180804796006;6.0525220477926042761;6.3535879842763236525;-7.2770194592458530281;-7.6992515737956921384;-7.6655269458949844008;7.8603029760918303737;8.2904322422041936136;-8.2233000102454933966;-8.6919919325858625569;-8.3591626512387424697;-10.087198454796325819;10.939000162681864481;-10.185024832361253999;10.554133624925691848;-11.608001865475436887;10.016578956095855801;-10.988275635350751358;11.108913743360966819;-11.708823901707733128;12.631239743393493313;12.123040025372775474;-12.874051071218497455;-13.152935399534277039;-12.884716877851285943;13.793679497313327431;-13.647253103666065144;-14.030333434860333242;14.921238892156612366];
IW1_1 = [-1.4888976769748192286 13.554153937674653818;-12.536517083691848029 -4.4692638583304393762;9.3559146584201080543 -9.980447738983068362;-12.352782675626473363 -0.88732377599909162402;-12.884022282713949892 -5.1306112183223877565;6.364903552164181022 -12.254455717430513317;-4.0885354115574994438 -12.597821821610363457;-5.5387770459701757275 12.79044612000506298;13.957285143520916648 -0.37128749612617406584;-2.3084825386568978978 13.2904786000738806;10.344301512695009748 -9.2982770458214378806;-1.9894159730625673443 14.966227791341538023;13.619269974026790848 -0.8721782116215460734;-13.745686838776988381 -1.6356945793668054012;-6.5870072077987043002 -12.280068529302223368;12.010249806054549282 -7.0211306771550034966;11.26105663521883038 8.3062182713426242486;-10.702105966012229743 -9.010458269102009865;2.5470269835142516079 13.753940339698438322;7.4092486715079184378 -12.763808057969034948;-12.976727684772207283 -5.1568686020718113028;13.629904880002584378 3.443156119875478538;-8.4612068990238160637 12.058433883918524998;-13.591451646756578242 3.7857271421998572869;1.6221777975085054369 13.896634055983151157;12.093111926341798323 7.0502924693805759659;12.713017386375947027 5.8317116323385542742;-10.300869798525633669 -9.4941685337218775231;11.064057569804472081 -9.2975715345008644874;-2.3558463425619358134 -13.837536365746732514;-8.2757780859776666205 11.159406447188244371;9.4780824813488315783 -10.244084991121415129;-1.5966457356328453976 13.655133588545924184;12.32160131709274431 -7.1114437787952882175;-11.621466519620986091 -7.7624888534415337205;12.768421645594555613 5.9654147261856707019;-13.266533471035248937 -4.6091993957490799971;13.608058527255227688 -5.1212883704097551529;8.2632127947066269513 -11.307071149164670487;10.439471409021066961 9.3230001550376400132;9.6287021936771530761 -10.20631051853270499;11.99770535928480264 7.2442042366105070528;-13.309849738923288598 4.5211887424494276999;-10.375564453262473563 -9.4019195413583069865;-5.5410830171390150767 12.948830127503372367;-6.8889005722984775204 12.145694198821498588;10.768175478186286398 -8.7612367295366730957;7.676812171897548609 -11.80432304770486418;0.16299169293708751227 15.046982146074554976;9.2528559625218296247 11.65726091691573707;-9.1008304568569151627 -11.928640360051964819;11.479992874695220451 -7.9603382498114010346;4.6054048073230662297 -12.75450192295555496;14.109061543985307097 4.6142936848466522548;13.286306412069135874 4.6022906779398331523;13.756453614635233862 2.7649252403942683465;12.520007650506583374 6.6648118235646052199;-7.6327205271996172442 -11.902201517589785951;9.0008213122994344957 10.779228255900310529;-13.77792936064634155 -1.6831443500636904531;5.1462251250300425909 -14.295123351261471711;8.4712143446621617215 11.75094748793992494;10.3265632978656825 9.5576816399181865336;12.733912877875917857 5.8562826407188328659;-13.371122888326928191 3.9666726862566630274;-9.318096619769397293 11.112686996806836248;-1.5245537387396383977 14.339998662559784393;1.7733667072183862956 -13.966298330885111412;6.3939161691066264126 12.544585685689101595;-7.5093548173523805289 12.840222627757400531;12.579361303247944548 5.2265799725830204281;-13.906395189247042765 1.0627822129978432564;10.437588860453340445 9.4877719315192283744;11.06812632017241782 8.7504284650548633806;-12.624993903995481048 -5.6340433955223270246;-10.023615915949140032 -9.3747253433222397234;-9.5763210484048464366 -10.063131750999019687;8.4363194033934743032 -11.137109728165423661;10.290962634416775501 9.2771856744436824727;-7.5489994098884256601 -11.889038169128729905;-7.8783894608878215493 11.534882017825449196;-7.1457964099228128418 -12.439840346255877535;-13.955156803432258172 3.4724309395899326525;0.90516032979057248209 14.276061310349493993;-3.5203479706437881269 13.2309483591872592;4.4437044295493723922 -12.868326085956034888;-13.359827867165606108 -2.7551284389301793354;14.115258239584381528 -5.4017219815073964639;-8.0618666747368745717 11.347545285457506736;10.124117332589607443 -9.7426120511407088287;-10.88243491081596126 8.4772377483023326761;11.314511665580594624 7.9772256370881358123;11.777044831862019336 -7.4132967043452309142;-6.732196323575316832 -13.554336375628405875;-10.953425114484753422 -9.4783821125571776633;-11.672953888825341906 7.6973389360033150908;10.28875781049780791 -8.5126199344989625928;-5.2442935485248325378 12.771516970695174109;-5.6037822528678375988 12.500847027509312426;5.4041655941172441757 11.931940288268114259];

% Layer 2
b2 = -6.9221918282235561648;
LW2_1 = [-5.1929304471578356939 -4.1114035128211829928 4.9658202950423930844 -4.4271525763355050742 -3.3609485865399366666 4.2614367003789643817 -4.3395058420047645242 -3.6291449327140301584 2.7348300422283373656 -2.4263638177906741156 4.0140592388354567888 6.1543901796866897769 2.7497929834433869623 -2.8067303913327625864 -3.2606488241008984019 3.7353789759774258528 2.8365772809937683796 -2.8945968826983223821 2.241511840479040174 -4.4034349868521944771 -2.7249852123187814357 1.7212883700620713601 3.8792628003752320787 -0.2349831290933186434 1.321169597569895382 2.5190779469598529872 2.3378677060574029056 -2.4128495678621284526 -4.3706933385127042513 -0.64283599892871601256 3.5147472056985988864 -3.5607250098899370094 0.21861793996901104919 -5.2032041869707468251 -2.4232910096856179472 0.94174246314226950361 -0.67572772888761090115 -7.1982824644265033243 -2.146325264828381485 1.842748670117588583 -2.4521154333971559858 0.67154359069336033716 6.3613486095944296039 -0.75187406593958083789 -0.71659902838952904691 0.040910461380564068501 -1.5057286875065754028 1.5418796555019143035 -9.9764199258697949801 -7.044688953582619817 7.5103439167361365492 -0.068732272526683915737 4.1422689789700957164 -7.1967972637739565656 -2.3957172923032969969 -1.3725133606925767893 -2.7221673506466101955 5.5965230942262627067 -4.0114909118262946919 -0.90363735819007995342 9.1014261174272697019 -4.7635660225684572922 -1.7603753166687081677 1.0094743969475583611 -1.9935151979155645297 -7.4013414691164580717 -1.7257199203683497579 0.52013366367286395509 -0.875163511435955499 -3.1481383629333294927 0.63863057827643576747 -1.8584150778727950293 0.61690038492953847005 0.97948651858652513447 -1.7351990758317750174 0.019136631458456454524 -0.14548758582347540158 -1.7231980317249921963 0.20934331136093831116 -2.0716652664967680764 2.6904760529738274144 -2.3559068558971647533 -8.7872488981481193804 9.4736602662584328272 2.995306822018533488 -3.6846506616743099904 -6.4030149701664873518 7.0619158668115238342 3.4857880329680481779 -2.7862043610244775493 3.6085043794325759592 6.9117628656953753463 -3.2057726707279252665 -9.7349878658345030402 -8.0975840647356100988 3.2842844267399708968 -4.335901753512621859 4.8099095199392527533 5.1514315399317283095 -3.9520574687610272591];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
  a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
